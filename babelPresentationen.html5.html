

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Babel, or how to use next generation JavaScript nowadays?</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Droid+Sans|Droid+Sans+Mono">
    <link rel="stylesheet" href="src/prettify/prettify.css" id="prettify-link" disabled>
    <link rel="stylesheet" href="styles/fonts.css"        media="screen">
    <link rel="stylesheet" href="styles/presentation.css" media="screen">
    <link rel="stylesheet" href="styles/common.css"       media="screen">

    <!-- todo: check - is media="screen" needed? what is the "default"? -->
    <link rel="stylesheet" href="styles/default.css"  class="theme" media="screen">
    <link rel="stylesheet" href="styles/moon.css"     class="theme" media="screen">
    <link rel="stylesheet" href="styles/sand.css"     class="theme" media="screen">
    <link rel="stylesheet" href="styles/sea_wave.css" class="theme" media="screen">
  </head>
  <body>
    <div id="flex-container">
    <nav id="helpers">
      <button title="Previous slide"         id="nav-prev" class="nav-prev">&#8701;</button>
      <button title="Jump to a random slide" id="slide-no">5</button>
      <button title="Next slide"             id="nav-next" class="nav-next">&#8702;</button>
      <menu>
        <button type="checkbox" data-command="toc" title="Table of Contents" class="toc">TOC</button>
        <!-- <button type="checkbox" data-command="resources" title="View Related Resources">&#9734;</button> -->
        <button type="checkbox" data-command="notes" title="View Slide Notes">&#9999;</button>
        <button type="checkbox" data-command="source" title="View slide source">&#8635;</button>
        <button type="checkbox" data-command="help" title="View Help">?</button>
      </menu>
    </nav>
    <div class="slides">
        <div id="presentation-counter">Loading...</div>

        <div class="slide" id="landing-slide">
          <section class="middle">
            <p>This presentation is an HTML5 website</p>
            <p>Press <span id="left-init-key" class="key">&rarr;</span> key to advance.</p>
          </section>
          <aside class="note">
            <section>
              Welcome! (This field is for speaker notes and commentary.)
            </section>
          </aside>
        </div>

        <div class="slide" id="controls-slide">
          <header>Slides controls</header>
          <section>
            <ul>
              <li><span class="key">&larr;</span> and <span class="key">&rarr;</span> to move around.</li>
              <li><span class="key">Ctrl/Command</span> and <span class="key">+</span> or <span class="key">-</span> to zoom in and out if slides don’t fit.</li>
              <li><span class="key">S</span> to view page source.</li>
              <li><span class="key">T</span> to change the theme.</li>
              <li><span class="key">H</span> to toggle syntax highlight.</li>
              <li><span class="key">N</span> to toggle speaker notes.</li>
              <li><span class="key">3</span> to toggle 3D effect.</li>
              <li><span class="key">0</span> to toggle help.</li>
            </ul>
          </section>
        </div>

        <div class="slide" id="title-slide">
          <section class="middle">
            <hgroup>
              <h1>
                Babel, or how to use next generation JavaScript nowadays?
              </h1>
              <h2>
                
              </h2>
            </hgroup>
          </section>
        </div>

        <div class="slide" id="table-of-contents">
          <header><h1>Agenda - Table of Contents</h1></header>
          <section>
            <ul id="toc-list">
            </ul>
          </section>
        </div>






        <div class="slide transitionSlide" id="slide1">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="babel">Babel</h1></header>
          <section>
              
<!-- _S9SLIDE_ -->


<p>From my point of view Babel easily can be used from NPM.
Therefore, it is necessary to first explain what NPM is.
NPM is the default package manager of JavaScript runtime environment for NodeJS.
NodeJS as a whole, can be used to develop backend web applications, but the big popularity it has, is because of the ecosystem of tools developed around its package manager - NPM.</p>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide2">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="scaffolding-tools">scaffolding tools</h1></header>
          <section>
              <!-- _S9SLIDE_ -->


<p>Extremely popular as a so called. scaffolding tools.
These are tools for rapid generation of skeleton of a typical application.
One of them is, for example yeoman:</p>

<p><a href="http://yeoman.io/">http://yeoman.io/</a></p>

<p>It supports very large inventory of generators, which you can see here:</p>

<p><a href="http://yeoman.io/generators/">http://yeoman.io/generators/</a></p>

<p>Besides generation of startup application, these generators support and useful tools for the further development of the application.
For example, as can be seen here:</p>

<p>https://github.com/yeoman/generator-angular#readme</p>

<p>The Generator for AngularJS supports the generation of new controllers, directives, filters, views and so on.
Things go much further. Ever since the beginning of the project you already have organized the build process and
code minification.</p>

<p>An example of a little thing done with help of yeoman, you can see here:
<a href="http://gonaumov.github.io/easterEggs/">http://gonaumov.github.io/easterEggs/</a></p>

<p>The code can be seen here: 
<a href="https://github.com/gonaumov/easterEggs">https://github.com/gonaumov/easterEggs</a></p>

<p>The whole work took me about two hours. I skipped a lot of things - downloading libraries and the structure of the application - controllers, directives, service and so on.</p>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide3">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="trend-in-command-line-tools">Trend in command line tools.</h1></header>
          <section>
              <!-- _S9SLIDE_ -->


<p>It tends more and more tools to become npm packages.
One example of this trend, is - for example jpm. Jpm is a command line tool supported by Mozilla, serves as the development,
testing and packaging of supplements browser Mozilla Firefox:</p>

<p><a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Tools/jpm">https://developer.mozilla.org/en-US/Add-ons/SDK/Tools/jpm</a></p>

<p>jpm is the successor of cfx tool that was walking with older versions of Mozila FireFox add-on SDK.</p>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide4">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="dependencies-in-npm">Dependencies in npm</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<p>Npm keeps the list of dependencies in .json file called package.json. Here is an example of a typical package.json:</p>
<pre><code>{ 
  "name": "babelpresentation", 
  "version": "1.0.0", 
  "description": "babel presentation", 
  "main": "index.js", 
  "scripts": { 
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1" 
  }, 
  "author": "Georgi Naumov", 
  "license": "ISC", 
  "devDependencies": { 
    "babel-cli": "^6.11.4" 
  } 
} 
</code></pre>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide5">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="where-are-the-modules-in-the-file-system">Where are the modules in the file system?</h1></header>
          <section>
              <!-- _S9SLIDE_ -->


<p>npm modules are contained in the directory with name node_modules in the same project.
If this directory doesn’t exist, command npm install, will download the necessary modules and create the directory.</p>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide6">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="the-funny-side-of-npm">The funny side of NPM.</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<p>These days, there was a funny case, when it turned out that there was asci art in babel-core, but it is already removed. 
Let’s examine what is in this PR:
<a href="https://github.com/babel/babel/pull/3656">https://github.com/babel/babel/pull/3656</a>  <br />
<img src="./guy_fieri_ascii_art-1471349356494.png" alt="image" /></p>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide7">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="why-do-we-need-babel">Why do we need Babel?</h1></header>
          <section>
              <!-- _S9SLIDE_ -->


<p>Babel is the de facto converter of EcmaScript 6 to 5, with its help we can use EcmaScript 6 standard before it can be maintained at a certain environment.</p>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide8">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="syntax-transformers">Syntax Transformers</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<p>Babel supports the current version of the EcmaScript - EcmaScript 2015 with the help of
syntax transformers. These are plugins that allow you to use the current syntax EcmaScript 2015 right now - without expecting support in browsers.
Babel provides us with this by babel-preset-es2015 plugin that combines several things.</p>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide9">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="arrows-and-lexical-this">Arrows and Lexical This</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<p>Arrows are a function shorthand using the =&gt; syntax. They are syntactically similar to the related feature in C#, Java 8 and CoffeeScript. 
They support both expression and statement bodies. Unlike functions, arrows share the same lexical this as their surrounding code.</p>

<pre><code class="language-javascript">var a = () =&gt; {};
var a = (b) =&gt; b;

const double = [1,2,3].map((num) =&gt; num * 2);
console.log(double); // [2,4,6]

var bob = {
  _name: "Bob",
  _friends: ["Sally", "Tom"],
  printFriends() {
    this._friends.forEach(f =&gt;
      console.log(this._name + " knows " + f));
  }
};
console.log(bob.printFriends());
</code></pre>


          </section>
        </div>




        <div class="slide transitionSlide" id="slide10">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="classes">Classes</h1></header>
          <section>
              <!-- _S9SLIDE_ -->


<p>ES2015 classes are a simple sugar over the prototype-based OO pattern. Having a single convenient declarative form makes class patterns easier to use, 
and encourages interoperability. Classes support prototype-based inheritance, super calls, instance and static methods and constructors.</p>

<pre><code class="language-javascript">class SkinnedMesh extends THREE.Mesh {
  constructor(geometry, materials) {
    super(geometry, materials);

    this.idMatrix = SkinnedMesh.defaultMatrix();
    this.bones = [];
    this.boneMatrices = [];
    //...
  }
  update(camera) {
    //...
    super.update();
  }
  static defaultMatrix() {
    return new THREE.Matrix4();
  }
}
</code></pre>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide11">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="enhanced-object-literals">Enhanced Object Literals</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<p>Object literals are extended to support setting the prototype at construction, shorthand for foo: foo assignments, 
defining methods and making super calls. Together, these also bring object literals and class declarations closer together, 
and let object-based design benefit from some of the same conveniences.</p>

<pre><code class="language-javascript">var obj = {
    // Sets the prototype. "__proto__" or '__proto__' would also work.
    __proto__: theProtoObj,
    // Computed property name does not set prototype or trigger early error for
    // duplicate __proto__ properties.
    ['__proto__']: somethingElse,
    // Shorthand for ‘handler: handler’
    handler,
    // Methods
    toString() {
     // Super calls
     return "d " + super.toString();
    },
    // Computed (dynamic) property names
    [ "prop_" + (() =&gt; 42)() ]: 42
};
</code></pre>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide12">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="template-strings">Template Strings</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<p>Template strings provide syntactic sugar for constructing strings. This is similar to string interpolation features in Perl, 
Python and more. Optionally, a tag can be added to allow the string construction to be customized, avoiding injection attacks or 
constructing higher level data structures from string contents.</p>
<pre><code class="language-javascript">// Basic literal string creation
`This is a pretty little template string.`

// Multiline strings
`In ES5 this is
 not legal.`

// Interpolate variable bindings
var name = "Bob", time = "today";
`Hello ${name}, how are you ${time}?`

// Unescaped template strings
String.raw`In ES5 "\n" is a line-feed.`

// Construct an HTTP request prefix is used to interpret the replacements and construction
GET`http://foo.org/bar?a=${a}&amp;b=${b}
    Content-Type: application/json
    X-Credentials: ${credentials}
    { "foo": ${foo},
      "bar": ${bar}}`(myOnReadyStateChangeHandler);
</code></pre>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide13">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="destructing">Destructing</h1></header>
          <section>
              <!-- _S9SLIDE_ -->


<p>Destructuring allows binding using pattern matching, with support for matching arrays and objects. Destructuring is fail-soft, 
similar to standard object lookup foo[“bar”], producing undefined values when not found.</p>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide14">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="example-for-destructing">Example for destructing</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<pre><code class="language-javascript">// list matching
var [a, ,b] = [1,2,3];
a === 1;
b === 3;

// object matching
var { op: a, lhs: { op: b }, rhs: c }
       = getASTNode()
</code></pre>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide15">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="more-examples-for-destructing">More examples for destructing</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<pre><code class="language-javascript">// object matching shorthand
// binds `op`, `lhs` and `rhs` in scope
var {op, lhs, rhs} = getASTNode()

// Can be used in parameter position
function g({name: x}) {
  console.log(x);
}
g({name: 5})
</code></pre>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide16">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="even-more-examples-for-destructing">Even more examples for destructing</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<pre><code class="language-javascript">// Fail-soft destructuring
var [a] = [];
a === undefined;

// Fail-soft destructuring with defaults
var [a = 1] = [];
a === 1;

// Destructuring + defaults arguments
function r({x, y, w = 10, h = 10}) {
  return x + y + w + h;
}
r({x:1, y:2}) === 23
</code></pre>


          </section>
        </div>




        <div class="slide transitionSlide" id="slide17">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="default--rest--spread">Default + Rest + Spread</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<p>Callee-evaluated default parameter values. Turn an array into consecutive arguments in a function call. 
Bind trailing parameters to an array. Rest replaces the need for arguments and addresses common cases more directly.</p>
<pre><code class="language-javascript">function f(x, y=12) {
  // y is 12 if not passed (or passed as undefined)
  return x + y;
}
f(3) == 15
</code></pre>
<pre><code class="language-javascript">function f(x, ...y) {
  // y is an Array
  return x * y.length;
}
f(3, "hello", true) == 6
</code></pre>
<pre><code class="language-javascript">function f(x, y, z) {
  return x + y + z;
}
// Pass each elem of array as argument
f(...[1,2,3]) == 6
</code></pre>


          </section>
        </div>




        <div class="slide transitionSlide" id="slide18">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="let--const">Let + Const</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<p>Block-scoped binding constructs. let is the new var. const is single-assignment. 
Static restrictions prevent use before assignment.</p>
<pre><code class="language-javascript">function foo(flag) {
    if (flag) {
        let a = 10;
    }
    return a;           // ReferenceError: a is not defined
}
console.log(foo(true));
</code></pre>


          </section>
        </div>




        <div class="slide transitionSlide" id="slide19">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="iterators--forof">Iterators + For..Of</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<p>Iterator objects enable custom iteration like CLR IEnumerable or Java Iterable. Generalize for..in to custom iterator-based iteration with for..of. 
Don’t require realizing an array, enabling lazy design patterns like LINQ.</p>
<pre><code class="language-javascript">let fibonacci = {
  [Symbol.iterator]() {
    let pre = 0, cur = 1;
    return {
      next() {
        [pre, cur] = [cur, pre + cur];
        return { done: false, value: cur }
      }
    }
  }
}

for (var n of fibonacci) {
  // truncate the sequence at 1000
  if (n &gt; 1000)
    break;
  console.log(n);
}
</code></pre>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide20">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="generators">Generators</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<p>Generators simplify iterator-authoring using function* and yield. A function declared as function* returns a Generator instance. 
Generators are subtypes of iterators which include additional next and throw. These enable values to flow back into the generator, 
so yield is an expression form which returns a value (or throws).</p>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide21">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="simple-example-of-generator-functions">Simple example of generator functions.</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<pre><code class="language-javascript">function* idMaker(){
  var index = 0;
  while(index &lt; 3)
    yield index++;
}

var gen = idMaker();

console.log(gen.next().value); // 0
console.log(gen.next().value); // 1
console.log(gen.next().value); // 2
console.log(gen.next().value); // undefined
// ...
</code></pre>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide22">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="modules">Modules</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<p>Language-level support for modules for component definition. Codifies patterns from popular JavaScript module loaders (AMD, CommonJS). 
Runtime behaviour defined by a host-defined default loader. Implicitly async model - no code executes until requested modules are available and processed.</p>

<pre><code class="language-javascript">// lib/math.js
export function sum(x, y) {
  return x + y;
}
export var pi = 3.141593;

// app.js
import * as math from "lib/math";
console.log("2π = " + math.sum(math.pi, math.pi));

// otherApp.js
import {sum, pi} from "lib/math";
console.log("2π = " + sum(pi, pi));
</code></pre>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide23">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="map--set--weakmap--weakset">Map + Set + WeakMap + WeakSet</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<p>Efficient data structures for common algorithms. WeakMaps provides leak-free object-key’d side tables.</p>
<pre><code class="language-javascript">// Sets
var s = new Set();
s.add("hello").add("goodbye").add("hello");
s.size === 2;
s.has("hello") === true;

// Maps
var m = new Map();
m.set("hello", 42);
m.set(s, 34);
m.get(s) == 34;

// Weak Maps
var wm = new WeakMap();
wm.set(s, { extra: 42 });
wm.size === undefined

// Weak Sets
var ws = new WeakSet();
ws.add({ data: 42 });
// Because the added object has no other references, it will not be held in the set
</code></pre>


          </section>
        </div>




        <div class="slide transitionSlide" id="slide24">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="how-to-install-babel-from-npm">How to install Babel from npm?</h1></header>
          <section>
              <!-- _S9SLIDE_ -->


<pre><code> npm install --save-dev babel-core
</code></pre>


          </section>
        </div>




        <div class="slide transitionSlide" id="slide25">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="usage">Usage</h1></header>
          <section>
              <!-- _S9SLIDE_ -->


<pre><code>require("babel-core").transform("code", options);
</code></pre>
<p>If we want to use  babel-preset-es2015 we must install it.</p>
<pre><code>npm install babel-preset-es2015 --save-dev
</code></pre>

<p>Much more convenient to use, however is gulp-babel. This is gulp plugin for babel.
<a href="https://www.npmjs.com/package/gulp-babel">https://www.npmjs.com/package/gulp-babel</a></p>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide26">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="babelrc">.babelrc</h1></header>
          <section>
              <!-- _S9SLIDE_ -->

<p>.babelrc file is the configuration file of babel. babel search for this file in the root of a project.
From .babelrc file you can allow the installed plugins and setvat number of options.</p>

<p>For example, if you have installed ecma2015 preset you must enable configuration file like that:</p>
<pre><code>{
  "presets": ["es2015"]
}
</code></pre>


          </section>
        </div>




        <div class="slide transitionSlide" id="slide27">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="gulp-babel">gulp-babel</h1></header>
          <section>
              <!-- _S9SLIDE_ -->


<p>gulp-babel is cool gulp plugin. This is example of gulp-babel usage.</p>
<pre><code class="language-javascript">const gulp = require('gulp');
const babel = require('gulp-babel');
 
gulp.task('default', () =&gt; {
    return gulp.src('app.js')
        .pipe(babel({
            presets: ['es2015']
        }))
        .pipe(gulp.dest('dist'));
});
</code></pre>



          </section>
        </div>




        <div class="slide transitionSlide" id="slide28">  <!-- fix: add +2 or +1 was: (i+2).to_s -->
          <header><h1 id="questions">Questions?</h1></header>
          <section>
              <!-- _S9SLIDE_ -->


<p>Q &amp; A</p>


          </section>
        </div>



        <div id="speaker-note" class="invisible" style="display: none;"></div>

        <aside id="help" class="sidebar invisible" style="display: none;">
          <table>
            <caption>Help</caption>
            <tbody>
              <tr>
                <th>Move Around</th>
                <td>&larr;&nbsp;&rarr;</td>
              </tr>
              <tr>
                <th>Source File</th>
                <td>s</td>
              </tr>
              <tr>
                <th>Change Theme</th>
                <td>t</td>
              </tr>
              <tr>
                <th>Syntax Highlight</th>
                <td>h</td>
              </tr>
              <tr>
                <th>Speaker Notes</th>
                <td>n</td>
              </tr>
              <tr>
                <th>Toggle 3D</th>
                <td>3</td>
              </tr>
              <tr>
                <th>Help</th>
                <td>0</td>
              </tr>
            </tbody>
          </table>
        </aside>

    </div> <!-- slides -->
    </div>


    <script src="src/prettify/prettify.js" onload="prettyPrint();" defer></script>

    <script src="js/utils.js"></script>
    <script src="js/slide.js"></script>
    <script src="js/slideshow.js"></script>
    <script src="js/start.js"></script>
  </body>
</html>
